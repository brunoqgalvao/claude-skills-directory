{
  "id": "transcript-fixer",
  "name": "transcript-fixer",
  "version": "1.0.0",
  "summary": "Corrects speech-to-text transcription errors in meeting notes, lectures, and interviews using dictionary rules and AI. Learns patterns to build personalized correction databases...",
  "description": "# Transcript Fixer\n\nCorrect speech-to-text transcription errors through dictionary-based rules, AI-powered corrections, and automatic pattern detection. Build a personalized knowledge base that learns from each correction.\n\n## When to Use This Skill\n\n- Correcting ASR/STT errors in meeting notes, lectures, or interviews\n- Building domain-specific correction dictionaries\n- Fixing Chinese/English homophone errors or technical terminology\n- Collaborating on shared correction knowledge bases\n\n## Prerequisites\n\n**Python execution must use `uv`** - never use system Python directly.\n\nIf `uv` is not installed:\n```bash\n# macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Windows PowerShell\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n```\n\n## Quick Start\n\n**Recommended: Use Enhanced Wrapper** (auto-detects API key, opens HTML diff):\n\n```bash\n# First time: Initialize database\nuv run scripts/fix_transcription.py --init\n\n# Process transcript with enhanced UX\nuv run scripts/fix_transcript_enhanced.py input.md --output ./corrected\n```\n\nThe enhanced wrapper automatically:\n- Detects GLM API key from shell configs (checks lines near `ANTHROPIC_BASE_URL`)\n- Moves output files to specified directory\n- Opens HTML visual diff in browser for immediate feedback\n\n**Alternative: Use Core Script Directly**:\n\n```bash\n# 1. Set API key (if not auto-detected)\nexport GLM_API_KEY=\"<api-key>\"  # From https://open.bigmodel.cn/\n\n# 2. Add common corrections (5-10 terms)\nuv run scripts/fix_transcription.py --add \"é”™è¯¯è¯\" \"æ­£ç¡®è¯\" --domain general\n\n# 3. Run full correction pipeline\nuv run scripts/fix_transcription.py --input meeting.md --stage 3\n\n# 4. Review learned patterns after 3-5 runs\nuv run scripts/fix_transcription.py --review-learned\n```\n\n**Output files**:\n- `*_stage1.md` - Dictionary corrections applied\n- `*_stage2.md` - AI corrections applied (final version)\n- `*_å¯¹æ¯”.html` - Visual diff (open in browser for best experience)\n\n**Generate word-level diff** (recommended for reviewing corrections):\n```bash\nuv run scripts/generate_word_diff.py original.md corrected.md output.html\n```\n\nThis creates an HTML file showing word-by-word differences with clear highlighting:\n- ğŸ”´ `japanese 3 pro` â†’ ğŸŸ¢ `Gemini 3 Pro` (complete word replacements)\n- Easy to spot exactly what changed without character-level noise\n\n## Example Session\n\n**Input transcript** (`meeting.md`):\n```\nä»Šå¤©æˆ‘ä»¬è®¨è®ºäº†å·¨å‡æ™ºèƒ½çš„æœ€æ–°è¿›å±•ã€‚\nè‚¡ä»·ç³»ç»Ÿéœ€è¦ä¼˜åŒ–ï¼Œç›®å‰æ€§èƒ½ä¸å¤Ÿå¥½ã€‚\n```\n\n**After Stage 1** (`meeting_stage1.md`):\n```\nä»Šå¤©æˆ‘ä»¬è®¨è®ºäº†å…·èº«æ™ºèƒ½çš„æœ€æ–°è¿›å±•ã€‚  â† \"å·¨å‡\"â†’\"å…·èº«\" corrected\nè‚¡ä»·ç³»ç»Ÿéœ€è¦ä¼˜åŒ–,ç›®å‰æ€§èƒ½ä¸å¤Ÿå¥½ã€‚  â† Unchanged (not in dictionary)\n```\n\n**After Stage 2** (`meeting_stage2.md`):\n```\nä»Šå¤©æˆ‘ä»¬è®¨è®ºäº†å…·èº«æ™ºèƒ½çš„æœ€æ–°è¿›å±•ã€‚\næ¡†æ¶ç³»ç»Ÿéœ€è¦ä¼˜åŒ–ï¼Œç›®å‰æ€§èƒ½ä¸å¤Ÿå¥½ã€‚  â† \"è‚¡ä»·\"â†’\"æ¡†æ¶\" corrected by AI\n```\n\n**Learned pattern detected:**\n```\nâœ“ Detected: \"è‚¡ä»·\" â†’ \"æ¡†æ¶\" (confidence: 85%, count: 1)\n  Run --review-learned after 2 more occurrences to approve\n```\n\n## Core Workflow\n\nThree-stage pipeline stores corrections in `~/.transcript-fixer/corrections.db`:\n\n1. **Initialize** (first time): `uv run scripts/fix_transcription.py --init`\n2. **Add domain corrections**: `--add \"é”™è¯¯è¯\" \"æ­£ç¡®è¯\" --domain <domain>`\n3. **Process transcript**: `--input file.md --stage 3`\n4. **Review learned patterns**: `--review-learned` and `--approve` high-confidence suggestions\n\n**Stages**: Dictionary (instant, free) â†’ AI via GLM API (parallel) â†’ Full pipeline\n**Domains**: `general`, `embodied_ai`, `finance`, `medical`, or custom names including Chinese (e.g., `ç«æ˜ŸåŠ é€Ÿå™¨`, `å…·èº«æ™ºèƒ½`)\n**Learning**: Patterns appearing â‰¥3 times at â‰¥80% confidence move from AI to dictionary\n\nSee `references/workflow_guide.md` for detailed workflows, `references/script_parameters.md` for complete CLI reference, and `references/team_collaboration.md` for collaboration patterns.\n\n## Critical Workflow: Dictionary Iteration\n\n**MUST save corrections after each fix.** This is the skill's core value.\n\nAfter fixing errors manually, immediately save to dictionary:\n```bash\nuv run scripts/fix_transcription.py --add \"é”™è¯¯è¯\" \"æ­£ç¡®è¯\" --domain general\n```\n\nSee `references/iteration_workflow.md` for complete iteration guide with checklist.\n\n## AI Fallback Strategy\n\nWhen GLM API is unavailable (503, network issues), the script outputs `[CLAUDE_FALLBACK]` marker.\n\nClaude Code should then:\n1. Analyze the text directly for ASR errors\n2. Fix using Edit tool\n3. **MUST save corrections to dictionary** with `--add`\n\n## Database Operations\n\n**MUST read `references/database_schema.md` before any database operations.**\n\nQuick reference:\n```bash\n# View all corrections\nsqlite3 ~/.transcript-fixer/corrections.db \"SELECT * FROM active_corrections;\"\n\n# Check schema version\nsqlite3 ~/.transcript-fixer/corrections.db \"SELECT value FROM system_config WHERE key='schema_version';\"\n```\n\n## Stages\n\n| Stage | Description | Speed | Cost |\n|-------|-------------|-------|------|\n| 1 | Dictionary only | Instant | Free |\n| 2 | AI only | ~10s | API calls |\n| 3 | Full pipeline | ~10s | API calls |\n\n## Bundled Resources\n\n**Scripts:**\n- `ensure_deps.py` - Initialize shared virtual environment (run once, optional)\n- `fix_transcript_enhanced.py` - Enhanced wrapper (recommended for interactive use)\n- `fix_transcription.py` - Core CLI (for automation)\n- `generate_word_diff.py` - Generate word-level diff HTML for reviewing corrections\n- `examples/bulk_import.py` - Bulk import example\n\n**References** (load as needed):\n- **Critical**: `database_schema.md` (read before DB operations), `iteration_workflow.md` (dictionary iteration best practices)\n- Getting started: `installation_setup.md`, `glm_api_setup.md`, `workflow_guide.md`\n- Daily use: `quick_reference.md`, `script_parameters.md`, `dictionary_guide.md`\n- Advanced: `sql_queries.md`, `file_formats.md`, `architecture.md`, `best_practices.md`\n- Operations: `troubleshooting.md`, `team_collaboration.md`\n\n## Troubleshooting\n\nVerify setup health with `uv run scripts/fix_transcription.py --validate`. Common issues:\n- Missing database â†’ Run `--init`\n- Missing API key â†’ `export GLM_API_KEY=\"<key>\"` (obtain from https://open.bigmodel.cn/)\n- Permission errors â†’ Check `~/.transcript-fixer/` ownership\n\nSee `references/troubleshooting.md` for detailed error resolution and `references/glm_api_setup.md` for API configuration.",
  "verticals": [
    "engineering",
    "marketing",
    "data"
  ],
  "tags": [],
  "author": {
    "name": "daymade",
    "github": "daymade"
  },
  "status": "ready",
  "verified": false,
  "visibility": "public",
  "license": "MIT",
  "links": {
    "repo": "https://github.com/daymade/claude-code-skills",
    "skill_md": "https://raw.githubusercontent.com/daymade/claude-code-skills/main/transcript-fixer/SKILL.md"
  },
  "stats": {
    "stars": 154,
    "forks": 13,
    "installs": 0
  },
  "last_updated": "2026-01-07T15:30:48Z",
  "created_at": "2025-10-22T11:17:31Z",
  "meta": {
    "source": "github",
    "sourceUrl": "https://github.com/daymade/claude-code-skills/blob/main/transcript-fixer/SKILL.md",
    "harvestedAt": "2026-01-07T16:59:54.890Z",
    "uniqueId": "sk_310c00ba599e"
  }
}