{
  "id": "claude-md-progressive-disclosurer",
  "name": "claude-md-progressive-disclosurer",
  "version": "1.0.0",
  "summary": "Optimize user CLAUDE.md files by applying progressive disclosure principles. This skill should be used when users want to reduce CLAUDE.md bloat, move detailed content to refere...",
  "description": "# CLAUDE.md Progressive Disclosure Optimizer\n\nAnalyze and optimize user CLAUDE.md files to reduce context overhead while preserving functionality.\n\n## Quick Start\n\n1. **Backup** the original file first\n2. **Audit** the current state (list all sections with line counts)\n3. **Classify** each section using the criteria below\n4. **Propose** optimizations with before/after comparison table\n5. **Verify** information completeness checklist before executing\n6. **Execute** approved changes\n7. **Test** that moved content remains discoverable\n\n## Section Classification\n\nAnalyze each section and classify:\n\n| Category | Criteria | Action |\n|----------|----------|--------|\n| **Keep in CLAUDE.md** | Core principles, short rules (<10 lines), frequently needed | Keep as-is |\n| **Move to references/** | Detailed procedures, code examples, troubleshooting guides | Create `~/.claude/references/<name>.md` |\n| **Extract to skill** | Reusable workflows, scripts, domain-specific knowledge | Create skill in skills repository |\n| **Remove** | Duplicates existing skills, outdated, or unnecessary | Delete after confirmation |\n\n### Exceptions to Size Guidelines\n\nEven if a section is >50 lines, **KEEP in CLAUDE.md** if any of these apply:\n\n| Exception | Reason | Example |\n|-----------|--------|---------|\n| **Safety-critical** | Consequences of forgetting are severe | Deployment protocols, \"never force push to main\" |\n| **High-frequency** | Referenced in most conversations | Core development patterns, common commands |\n| **Easy to violate** | Claude tends to ignore when not visible | Code style rules, permission requirements |\n| **Security-sensitive** | Must be always enforced | Production access restrictions, data handling rules |\n\n**Rule of thumb**: If forgetting the rule could cause production incidents, data loss, or security breaches, keep it visible regardless of length.\n\n## Optimization Workflow\n\n### Step 0: Backup Original File\n\n**CRITICAL**: Always create a backup before any changes.\n\n```bash\n# Create timestamped backup\ncp ~/.claude/CLAUDE.md ~/.claude/CLAUDE.md.bak.$(date +%Y%m%d_%H%M%S)\n\n# For project-level CLAUDE.md\ncp CLAUDE.md CLAUDE.md.bak.$(date +%Y%m%d_%H%M%S)\n```\n\nIf issues found after optimization:\n```bash\n# Restore from backup\ncp ~/.claude/CLAUDE.md.bak.YYYYMMDD_HHMMSS ~/.claude/CLAUDE.md\n```\n\n### Step 1: Audit Current State\n\n```\nTask Progress:\n- [ ] Create backup (Step 0)\n- [ ] Read ~/.claude/CLAUDE.md\n- [ ] Count total lines\n- [ ] List all ## sections with line counts\n- [ ] Identify sections >20 lines\n```\n\n### Step 2: Classify Each Section\n\nFor each section >20 lines, determine:\n\n1. **Frequency**: How often is this information needed?\n2. **Complexity**: Does it contain code blocks, tables, or detailed steps?\n3. **Reusability**: Could other users benefit from this as a skill?\n\n### Step 3: Propose Changes\n\nPresent optimization plan in this format:\n\n```markdown\n## Optimization Proposal\n\n**Current**: X lines\n**After**: Y lines (Z% reduction)\n\n| Section | Lines | Action | Destination |\n|---------|-------|--------|-------------|\n| Section A | 50 | Move to references | ~/.claude/references/section_a.md |\n| Section B | 80 | Extract to skill | skill-name/ |\n| Section C | 5 | Keep | - |\n```\n\n### Step 3.5: Pre-execution Verification Checklist\n\n**CRITICAL**: Before executing any changes, verify information completeness.\n\nFor each section being moved or modified:\n\n1. **Extract key items** to verify:\n   - Credentials/passwords/API keys\n   - Critical rules (\"never do X\", \"always do Y\")\n   - Specific values (ports, IPs, URLs, paths)\n   - Code snippets that are frequently referenced\n   - Cross-references to other sections\n\n2. **Create verification checklist**:\n   ```markdown\n   ## Verification Checklist for [Section Name]\n\n   | Key Item | Original Location | New Location | Verified |\n   |----------|-------------------|--------------|----------|\n   | Server IP 47.96.x.x | Line 123 | infrastructure.md:15 | [ ] |\n   | \"Never push to main\" rule | Line 45 | Kept in CLAUDE.md | [ ] |\n   | Login credentials | Line 200 | api-login.md:30 | [ ] |\n   ```\n\n3. **Check cross-references**:\n   - If Section A references Section B, ensure links work after moving\n   - Update any relative paths to absolute paths if needed\n\n### Step 4: Execute Changes\n\nAfter user approval AND verification checklist complete:\n\n1. Create reference files in `~/.claude/references/`\n2. Update CLAUDE.md with pointers to moved content\n3. Create skills if applicable\n4. **Verify each checklist item exists in new location**\n5. Report final line count\n\n### Step 5: Post-optimization Testing\n\nVerify that Claude can still discover moved content:\n\n1. **Test discoverability** - Ask questions that require moved content:\n   ```\n   Test queries to run:\n   - \"How do I connect to the production database?\"\n   - \"What are the deployment steps for [service]?\"\n   - \"Show me the credentials for [system]\"\n   ```\n\n2. **Verify pointer functionality** - Each \"See `reference.md`\" link should work:\n   ```bash\n   # Check all referenced files exist\n   grep -oh '`~/.claude/references/[^`]*`' ~/.claude/CLAUDE.md | \\\n     sed 's/`//g' | while read f; do\n       eval test -f \"$f\" && echo \"✓ $f\" || echo \"✗ MISSING: $f\"\n     done\n   ```\n\n3. **Compare with backup** - Ensure no unintended deletions:\n   ```bash\n   diff ~/.claude/CLAUDE.md.bak.* ~/.claude/CLAUDE.md | grep \"^<\" | head -20\n   ```\n\n4. **Document results**:\n   ```markdown\n   ## Optimization Results\n\n   | Metric | Before | After |\n   |--------|--------|-------|\n   | Total lines | X | Y |\n   | Reduction | - | Z% |\n   | References created | - | N files |\n   | Skills extracted | - | M skills |\n\n   **Verification**: All N checklist items verified ✓\n   **Testing**: All K test queries returned correct information ✓\n   ```\n\n## Reference File Format\n\nWhen moving content to `~/.claude/references/`:\n\n```markdown\n# [Section Title]\n\n[Full original content, possibly enhanced with additional examples]\n```\n\n## CLAUDE.md Pointer Format\n\nReplace moved sections with:\n\n```markdown\n## [Section Title]\n\n[One-line summary]. See `~/.claude/references/[filename].md`\n```\n\n## Best Practices\n\n- **Keep core principles visible**: Rules like \"never do X\" should stay in CLAUDE.md\n- **Group related references**: Combine small related sections into one reference file\n- **Preserve quick commands**: Keep frequently-used command snippets in CLAUDE.md\n- **Test after optimization**: Ensure Claude can still find moved information\n\n## Common Patterns\n\n### Pattern: Infrastructure/Credentials\n**Before**: Full API examples, deployment scripts, server lists\n**After**: One-line pointer to `~/.claude/references/infrastructure.md`\n\n### Pattern: Code Generation Rules\n**Before**: 50+ lines of coding standards with examples\n**After**: Keep bullet-point rules, move examples to references\n\n### Pattern: Reusable Workflows\n**Before**: Complete scripts embedded in CLAUDE.md\n**After**: Extract to skill with scripts/ directory\n\n## Project-Level vs User-Level CLAUDE.md\n\nThis skill handles both types, but strategies differ:\n\n### User-Level (`~/.claude/CLAUDE.md`)\n\n| Aspect | Approach |\n|--------|----------|\n| **Reference location** | `~/.claude/references/` |\n| **Scope** | Personal preferences, global rules |\n| **Sharing** | Not shared, personal only |\n| **Size target** | 100-200 lines ideal |\n\n### Project-Level (`/path/to/project/CLAUDE.md`)\n\n| Aspect | Approach |\n|--------|----------|\n| **Reference location** | `docs/` or `.claude/` in project root |\n| **Scope** | Project-specific patterns, architecture |\n| **Sharing** | Committed to git, shared with team |\n| **Size target** | 300-600 lines acceptable (more project context needed) |\n\n### Key Differences\n\n1. **Reference paths**: Use relative paths for project-level (`docs/best-practices/`)\n2. **Git considerations**: Project references are versioned with code\n3. **Team alignment**: Project CLAUDE.md should reflect team consensus\n4. **Update frequency**: Project-level changes more often as code evolves\n\n### Project-Level Pointer Format\n\n```markdown\n## [Section Title]\n\n[Summary]. See `docs/06-best-practices/[topic].md`\n```\n\n**Note**: For project CLAUDE.md, prefer `docs/` over hidden directories for discoverability by human team members.",
  "verticals": [
    "marketing"
  ],
  "tags": [],
  "author": {
    "name": "daymade",
    "github": "daymade"
  },
  "status": "ready",
  "verified": false,
  "visibility": "public",
  "license": "MIT",
  "links": {
    "repo": "https://github.com/daymade/claude-code-skills",
    "skill_md": "https://raw.githubusercontent.com/daymade/claude-code-skills/main/claude-md-progressive-disclosurer/SKILL.md"
  },
  "stats": {
    "stars": 154,
    "forks": 13,
    "installs": 0
  },
  "last_updated": "2026-01-07T15:30:48Z",
  "created_at": "2025-10-22T11:17:31Z",
  "meta": {
    "source": "github",
    "sourceUrl": "https://github.com/daymade/claude-code-skills/blob/main/claude-md-progressive-disclosurer/SKILL.md",
    "harvestedAt": "2026-01-07T16:59:54.890Z",
    "uniqueId": "sk_7b8988a9cbed"
  }
}