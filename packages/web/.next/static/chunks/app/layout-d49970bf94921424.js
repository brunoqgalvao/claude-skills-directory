(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4910:function(e,t,r){Promise.resolve().then(r.t.bind(r,2158,23)),Promise.resolve().then(r.t.bind(r,7179,23)),Promise.resolve().then(r.t.bind(r,8469,23)),Promise.resolve().then(r.t.bind(r,4655,23)),Promise.resolve().then(r.bind(r,9119))},9119:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(2438),s=r(6838),l=r(8441),i=r(8574),a=r(9818);function o(){var e,t,r;let{user:l,loading:o,signOut:c}=(0,a.aF)(),[d,u]=(0,i.useState)(!1),m=(0,i.useRef)(null);if((0,i.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),o)return(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"});if(!l)return(0,n.jsx)(s.default,{href:"/login",className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-colors",children:"Sign in"});let f=null===(e=l.user_metadata)||void 0===e?void 0:e.avatar_url,h=(null===(t=l.user_metadata)||void 0===t?void 0:t.full_name)||(null===(r=l.user_metadata)||void 0===r?void 0:r.user_name)||"User";return(0,n.jsxs)("div",{className:"relative",ref:m,children:[(0,n.jsx)("button",{onClick:()=>u(!d),className:"flex items-center gap-2 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:f?(0,n.jsx)("img",{src:f,alt:h,className:"w-8 h-8 rounded-full border border-border"}):(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-medium",children:h.charAt(0).toUpperCase()})}),d&&(0,n.jsxs)("div",{className:"absolute right-0 mt-2 w-56 rounded-lg bg-white border border-border shadow-lg py-1 z-50",children:[(0,n.jsxs)("div",{className:"px-4 py-3 border-b border-border",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:h}),(0,n.jsx)("p",{className:"text-xs text-gray-500 truncate",children:l.email})]}),(0,n.jsx)(s.default,{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>u(!1),children:"Your Profile"}),(0,n.jsx)(s.default,{href:"/profile/likes",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>u(!1),children:"Liked Skills"}),(0,n.jsx)("div",{className:"border-t border-border mt-1 pt-1",children:(0,n.jsx)("button",{onClick:()=>{u(!1),c()},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Sign out"})})]})]})}function c(){return(0,i.useEffect)(()=>{let e=e=>{let t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable&&("k"===e.key||"K"===e.key)){e.preventDefault();let t=new CustomEvent("focus-search");window.dispatchEvent(t)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,n.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-border",children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl px-6 h-16 flex items-center justify-between",children:[(0,n.jsxs)(s.default,{href:"/",className:"group inline-flex items-center gap-2",children:[(0,n.jsx)(l.default,{src:"/logomark.png",alt:"Agent Skills",width:28,height:28,className:"w-7 h-7"}),(0,n.jsxs)("span",{className:"text-lg font-medium tracking-wide text-foreground",children:["Agent ",(0,n.jsx)("span",{className:"text-orange-500",children:"Skills"})]})]}),(0,n.jsxs)("nav",{className:"flex items-center gap-4 sm:gap-6",children:[(0,n.jsx)(s.default,{href:"/docs/cli",className:"text-sm text-gray-500 hover:text-foreground transition-colors",children:"CLI Docs"}),(0,n.jsx)("a",{href:"https://www.npmjs.com/package/@skills/cli",target:"_blank",rel:"noopener noreferrer",className:"hidden sm:inline-flex items-center gap-1.5 text-sm font-medium text-orange-600 hover:text-orange-700 transition-colors",children:"Download CLI"}),(0,n.jsx)(s.default,{href:"/blog",className:"text-sm text-gray-500 hover:text-foreground transition-colors",children:"Blog"}),(0,n.jsx)(s.default,{href:"/add",className:"hidden sm:inline-flex text-sm text-gray-500 hover:text-foreground transition-colors",children:"Share Skill"}),(0,n.jsx)("a",{className:"text-sm text-gray-500 hover:text-foreground transition-colors",href:"https://github.com/".concat("brunogalvao/claude-skills-directory"),target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),(0,n.jsx)(o,{})]})]})})}},9818:function(e,t,r){"use strict";r.d(t,{MD:function(){return a},U3:function(){return i},aF:function(){return l}});var n=r(1781),s=r(8574);function l(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,n.e)();e.auth.getUser().then(e=>{let{data:{user:r}}=e;t(r),l(!1)});let{data:{subscription:r}}=e.auth.onAuthStateChange((e,r)=>{var n;t(null!==(n=null==r?void 0:r.user)&&void 0!==n?n:null),l(!1)});return()=>r.unsubscribe()},[]),{user:e,loading:r,signOut:async()=>{let e=(0,n.e)();await e.auth.signOut(),t(null)}}}function i(e){let{user:t}=l(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(0),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{let r=(0,n.e)(),{count:s}=await r.from("likes").select("*",{count:"exact",head:!0}).eq("skill_id",e);if(o(s||0),t){let{data:n}=await r.from("likes").select("id").eq("skill_id",e).eq("user_id",t.id).single();i(!!n)}else i(!1);d(!1)})()},[e,t]);let u=(0,s.useCallback)(async()=>{if(!t){window.location.href="/login?next=".concat(encodeURIComponent(window.location.pathname));return}let s=(0,n.e)();r?(await s.from("likes").delete().eq("skill_id",e).eq("user_id",t.id),i(!1),o(e=>e-1)):(await s.from("likes").insert({skill_id:e,user_id:t.id}),i(!0),o(e=>e+1))},[r,e,t]);return{liked:r,likesCount:a,loading:c,toggleLike:u}}function a(e){let{user:t}=l(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),c=(0,s.useCallback)(async()=>{let t=(0,n.e)(),{data:r,error:s}=await t.from("comments").select("\n        id,\n        content,\n        created_at,\n        user_id,\n        parent_id,\n        profile:profiles(username, display_name, avatar_url)\n      ").eq("skill_id",e).order("created_at",{ascending:!0});if(s){console.error("Error fetching comments:",s);return}let l=new Map,a=[];null==r||r.forEach(e=>{let t={...e,profile:Array.isArray(e.profile)?e.profile[0]:e.profile,replies:[]};l.set(t.id,t)}),l.forEach(e=>{if(e.parent_id){let t=l.get(e.parent_id);t&&(t.replies=t.replies||[],t.replies.push(e))}else a.push(e)}),i(a),o(!1)},[e]);return(0,s.useEffect)(()=>{c()},[c]),{comments:r,loading:a,addComment:(0,s.useCallback)(async(r,s)=>{if(!t)return window.location.href="/login?next=".concat(encodeURIComponent(window.location.pathname)),null;let l=(0,n.e)(),{data:i,error:a}=await l.from("comments").insert({skill_id:e,user_id:t.id,content:r,parent_id:s||null}).select("\n        id,\n        content,\n        created_at,\n        user_id,\n        parent_id,\n        profile:profiles(username, display_name, avatar_url)\n      ").single();return a?(console.error("Error adding comment:",a),null):(await c(),i)},[e,t,c]),deleteComment:(0,s.useCallback)(async e=>{if(!t)return!1;let r=(0,n.e)(),{error:s}=await r.from("comments").delete().eq("id",e).eq("user_id",t.id);return s?(console.error("Error deleting comment:",s),!1):(await c(),!0)},[t,c]),user:t}}},1781:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(9555);function s(){return(0,n.createBrowserClient)("https://xrqahuxqqegogjwuocjl.supabase.co\n","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhycWFodXhxcWVnb2dqd3VvY2psIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0ODUxNzgsImV4cCI6MjA4MzA2MTE3OH0.TMBjaSnwgFZt1lXbZocOkA6qComKqBsPhsvlJC9eWe8\n")}},4655:function(){}},function(e){e.O(0,[488,817,555,894,387,770,744],function(){return e(e.s=4910)}),_N_E=e.O()}]);