"use strict";(()=>{var e={};e.id=867,e.ids=[867],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2409:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>j,requestAsyncStorage:()=>w,routeModule:()=>x,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{GET:()=>g,POST:()=>m});var o=r(7455),a=r(2015),n=r(2754),i=r(8389),p=r(7147),u=r(1017);let d=r.n(u)().join(process.cwd(),"data","reports.json");async function c(){try{let e=await p.promises.readFile(d,"utf-8");return JSON.parse(e)}catch{return[]}}async function l(e){await p.promises.writeFile(d,JSON.stringify(e,null,2))}async function g(){let e=await c();return i.NextResponse.json(e)}async function m(e){try{let{skillId:t,skillName:r,reason:s,description:o,email:a}=await e.json();if(!t||!s||!o)return i.NextResponse.json({error:"Missing required fields: skillId, reason, description"},{status:400});let n=await c(),p={id:`report-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,skillId:t,skillName:r||t,reason:s,description:o,email:a||void 0,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return n.push(p),await l(n),i.NextResponse.json({success:!0,reportId:p.id},{status:201})}catch(e){return console.error("Error creating report:",e),i.NextResponse.json({error:"Failed to create report"},{status:500})}}let x=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/reports/route",pathname:"/api/reports",filename:"route",bundlePath:"app/api/reports/route"},resolvedPagePath:"/Users/brunogalvao/Documents/dev-bruno/skills/claude-skills-directory/packages/web/app/api/reports/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:w,staticGenerationAsyncStorage:f,serverHooks:h}=x,v="/api/reports/route";function j(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[981,840],()=>r(2409));module.exports=s})();